[id^='pf2e-perception-'] {
    .window-content {
        .buttons {
            display: flex;
            gap: 0.3em;

            button {
                border: none;
                line-height: 1.5;
                height: 1.6em;
                background: #ffffff75;
                white-space: nowrap;
            }

            &:first-child {
                margin-bottom: 0.5em;
            }

            &:last-child {
                margin-top: 0.5em;
            }
        }

        hr {
            width: 100%;
        }

        .options,
        .token {
            display: flex;
            gap: 0.3em;

            select {
                height: auto;
                border: none;
                appearance: none;
                width: 8em;

                &:focus {
                    box-shadow: none;
                }
            }

            .name {
                flex-grow: 1;
                white-space: nowrap;
            }
        }

        .tokens {
            display: flex;
            flex-direction: column;
            gap: 5px;

            section {
                display: flex;
                flex-direction: column;

                &:only-of-type {
                    header {
                        display: none;
                    }
                }

                header {
                    text-align: center;
                    position: relative;

                    .type {
                        font-weight: bold;
                    }

                    .all {
                        position: absolute;
                        top: 0;
                        right: 0.3em;
                    }
                }

                .token {
                    &[data-token-id]:is(:hover, .hover) {
                        background: #00000017;
                    }

                    &.ui-selected,
                    &.ui-selecting {
                        .name {
                            text-shadow: 0 0 8px var(--color-shadow-primary);
                        }
                    }

                    select {
                        &.changed {
                            box-shadow: inset 0 0 3px var(--color-shadow-primary);
                        }

                        &:not(.changed).custom {
                            font-weight: bold;
                        }
                    }
                }
            }
        }
    }
}
